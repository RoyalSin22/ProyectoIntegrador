<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard de Reportes</title>
    <link rel="stylesheet" href="../css/Reporte.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script> <!-- Incluye Chart.js -->
</head>

<body>
    <header>
        <div class="navbar">
            <h1>Sistema de Reportes del Salón de Belleza María Elena</h1>
            <nav>
                <ul>
                    <li><a href="../controller/dashboardCancelacion.php">Reporte de Cancelaciones</a></li>
                    <li><a href="../controller/dashboardVentas.php">Reporte de Ventas</a></li>
                    <li><a href="../controller/dashboardSatisfaccion.php">Reporte de Satisfacción</a></li>
                    <li><a href="../controller/dashboardMetodoPago.php">Reporte de Métodos de Pago</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="reports-wrapper">
                <!-- Reporte de Clientes -->
                <section class="report-card" id="clientes">
                    <h2>Total de Clientes</h2>
                    <p class="report-info">Número total de Clientes: 15</p>
                    <p class="report-info">Numero de Clientes Registrado en el Sistema: 12</p>
                    <div class="chart-container">
                        <canvas id="clientesChart"></canvas>
                    </div>
                    <!-- Redirección al controlador de clientes -->
                    <a href="../controller/dashboardClientes.php" class="btn">Ver más detalles</a>
                </section>
        
                <!-- Reporte de Servicios -->
                <section class="report-card" id="servicios">
                    <h2>Servicios Más Solicitados</h2>
                    <p class="report-info">Servicio más solicitado: Corte de cabello</p>
                    <div class="chart-container">
                        <canvas id="serviciosChart"></canvas>
                    </div>
                    <!-- Redirección al controlador de servicios -->
                    <a href="../controller/dashboardServicios.php" class="btn">Ver más detalles</a>
                </section>
        
                <!-- Reporte de Empleados -->
                <section class="report-card" id="empleados">
                    <h2>Desempeño de Empleados</h2>
                    <p class="report-info">Empleado con más servicios realizados: Pedro Martinez</p>
                    <div class="chart-container">
                        <canvas id="empleadosChart"></canvas>
                    </div>
                    <!-- Redirección al controlador de empleados -->
                    <a href="../controller/dashboardEmpleados.php" class="btn">Ver más detalles</a>
                </section>
    
    <script>
        // Configuración para los gráficos usando Chart.js
        const ctxClientes = document.getElementById('clientesChart').getContext('2d');
        const clientesChart = new Chart(ctxClientes, {
            type: 'pie',
            data: {
                labels: ['Total de Clientes', 'Clientes Registrados'],
                datasets: [{
                    data: [15 , 12],
                    backgroundColor: ['#4caf50', '#ff5722'],
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return context.label + ': ' + context.raw;
                            }
                        }
                    }
                }
            }
        });
    
        const ctxServicios = document.getElementById('serviciosChart').getContext('2d');
        const serviciosChart = new Chart(ctxServicios, {
            type: 'bar',
            data: {
                labels: ['Corte de Cabello', 'Manicura', 'Pedicura', 'Tratamientos Faciales'],
                datasets: [{
                    label: 'Número de Servicios',
                    data: [9, 5, 4, 3],
                    backgroundColor: '#4caf50' ,
                    borderColor: '#388e3c',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    
        const ctxEmpleados = document.getElementById('empleadosChart').getContext('2d');
        const empleadosChart = new Chart(ctxEmpleados, {
            type: 'doughnut',
            data: {
                labels: ['Pedro Martinez', 'Franklin Williams', 'Johan Barrera'],
                datasets: [{
                    data: [3, 5, 7],
                    backgroundColor: ['#4caf50', '#ff9800', '#ff5722'],
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    }
                }
            }
        });
    
    </script>
        <footer>
            <p>&copy; 2024 Sistema de Reportes Salón de Belleza María Elena | Todos los derechos reservados</p>
        </footer>
    </body>
    </html>